#ifndef RENDER_GL_DRIVER_TRACKABLE_HEADER
#define RENDER_GL_DRIVER_TRACKABLE_HEADER

#include <xtl/signal.h>

namespace render
{

namespace low_level
{

namespace opengl
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Объект, оповещающий клиентов при удалении
///////////////////////////////////////////////////////////////////////////////////////////////////
class Trackable
{
  public:
    typedef xtl::slot<void ()> DestroyHandler;
  
///////////////////////////////////////////////////////////////////////////////////////////////////
///Объект, оповещающий клиентов при удалении
///////////////////////////////////////////////////////////////////////////////////////////////////
    Trackable  ();
    ~Trackable ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Регистрация обработчика события удаления объекта
///////////////////////////////////////////////////////////////////////////////////////////////////
    xtl::connection RegisterDestroyHandler (DestroyHandler&);

  private:
    xtl::signal<void ()> destroy_signal;
};

}

}

}

#endif
