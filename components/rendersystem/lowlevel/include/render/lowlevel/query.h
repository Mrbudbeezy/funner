#ifndef RENDER_LOW_LEVEL_QUERY_HEADER
#define RENDER_LOW_LEVEL_QUERY_HEADER

#include <render/lowlevel/object.h>

namespace render
{

namespace low_level
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///«апрос к устойству отрисовки
///////////////////////////////////////////////////////////////////////////////////////////////////
class IQuery: virtual public IDeviceObject
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///”казание границ запроса
///////////////////////////////////////////////////////////////////////////////////////////////////
    virtual void Begin () = 0;
    virtual void End   () = 0;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///ќписание стастистики отрисовки
///////////////////////////////////////////////////////////////////////////////////////////////////
struct StatisticsQueryDesc
{
  size_t state_changes;       //количество переключений состо€ний
  size_t draw_calls;          //количество вызовов Draw
  size_t draw_indexed_calls;  //количество вызовов DrawIndexed
  size_t primitives_count;    //количество примитивов
    //дополнить!!!
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///«апрос стастистики отрисовки
///////////////////////////////////////////////////////////////////////////////////////////////////
class IStatisticsQuery: virtual public IQuery
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///ѕолучение статистики
///////////////////////////////////////////////////////////////////////////////////////////////////
    virtual void GetDesc (StatisticsQueryDesc&) = 0;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///ѕредикат отрисовки
///////////////////////////////////////////////////////////////////////////////////////////////////
class IPredicate: virtual public IQuery
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///ѕолучение результата отрисовки
///  (операци€ может привести к остановке выполнени€ нити до завершени€ отрисовки)
///////////////////////////////////////////////////////////////////////////////////////////////////
    virtual bool GetResult () = 0;
};

}

}

#endif
