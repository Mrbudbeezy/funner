#ifndef NETWORK_URL_HEADER
#define NETWORK_URL_HEADER

namespace network
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///URL
///////////////////////////////////////////////////////////////////////////////////////////////////
class Url
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструкторы / деструктор / присваивание
///////////////////////////////////////////////////////////////////////////////////////////////////
    Url  (const char* spec);
    Url  (const char* protocol, const char* host_name, unsigned short port, const char* file);
    Url  (const char* protocol, const char* host_name, const char* file);
    Url  (const Url&);
    ~Url ();

    Url& operator = (const Url&);
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Параметры URL
///////////////////////////////////////////////////////////////////////////////////////////////////
    const char*    Protocol () const;
    const char*    Host     () const;
    unsigned short Port     () const;
    const char*    File     () const;
    const char*    Query    () const;
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Параметры запроса
///////////////////////////////////////////////////////////////////////////////////////////////////
    size_t      RequestPropertiesCount     () const;
    void        SetRequestProperty         (const char* key, const char* value);
    const char* GetRequestProperty         (const char* key) const;
    const char* GetRequestProperty         (size_t index) const;
    int         FindRequestProperty        (const char* key) const; //-1 if not found
    bool        HasRequestProperty         (const char* key) const;
    void        RemoveRequestProperty      (const char* key);
    void        RemoveRequestProperty      (size_t index);
    void        RemoveAllRequestProperties ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Приведение к строке
///////////////////////////////////////////////////////////////////////////////////////////////////
    const char* ToString () const;
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Сравнение двух URL
///////////////////////////////////////////////////////////////////////////////////////////////////
    bool operator == (const Url&) const;
    bool operator != (const Url&) const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Swap (Url&);
  
  private:
    struct Impl;
    Impl* impl;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
///////////////////////////////////////////////////////////////////////////////////////////////////
void swap (Url&, Url&);

}

#endif
