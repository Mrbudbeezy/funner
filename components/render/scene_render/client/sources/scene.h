///////////////////////////////////////////////////////////////////////////////////////////////////
///Сцена
///////////////////////////////////////////////////////////////////////////////////////////////////
class Scene: public xtl::reference_counter, public xtl::trackable, public xtl::noncopyable
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    Scene  (scene_graph::Scene&, Connection& connection, object_id_t id);
    ~Scene ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Идентификатор сцены
///////////////////////////////////////////////////////////////////////////////////////////////////
    object_id_t Id ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Сцена-источник
///////////////////////////////////////////////////////////////////////////////////////////////////
    scene_graph::Scene& SourceScene ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Синхронизация
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Update ();

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

typedef xtl::intrusive_ptr<Scene> ScenePtr;
