#ifndef RENDER_SCENE_CLIENT_IMPL_SCENE_VISUAL_MODEL_SHARED_HEADER
#define RENDER_SCENE_CLIENT_IMPL_SCENE_VISUAL_MODEL_SHARED_HEADER

#include <sg/visual_model.h>

#include "entity.h"

namespace render
{

namespace scene
{

namespace client
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Отображаемая модель
///////////////////////////////////////////////////////////////////////////////////////////////////
class VisualModel: public Entity
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    VisualModel  (scene_graph::VisualModel&, SceneManager&, interchange::NodeType node_type = interchange::NodeType_VisualModel);
    ~VisualModel ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Исходный узел
///////////////////////////////////////////////////////////////////////////////////////////////////
    scene_graph::VisualModel& SourceNode () const { return static_cast<scene_graph::VisualModel&> (Node::SourceNode ()); }

  protected:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Реализация синхронизации
///////////////////////////////////////////////////////////////////////////////////////////////////
    void UpdateCore (client::Context&);

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

}

}

}

#endif
