#ifndef RENDER_SCENE_CLIENT_IMPL_SCENE_STATIC_MESH_SHARED_HEADER
#define RENDER_SCENE_CLIENT_IMPL_SCENE_STATIC_MESH_SHARED_HEADER

#include <sg/mesh.h>

#include "visual_model.h"

namespace render
{

namespace scene
{

namespace client
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Статический меш
///////////////////////////////////////////////////////////////////////////////////////////////////
class StaticMesh: public VisualModel
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    StaticMesh  (scene_graph::StaticMesh&, SceneManager&, interchange::NodeType node_type = interchange::NodeType_StaticMesh);
    ~StaticMesh ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Исходный узел
///////////////////////////////////////////////////////////////////////////////////////////////////
    scene_graph::StaticMesh& SourceNode () const { return static_cast<scene_graph::StaticMesh&> (Node::SourceNode ()); }

  protected:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Реализация синхронизации
///////////////////////////////////////////////////////////////////////////////////////////////////
    void UpdateCore (client::Context&);

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

}

}

}

#endif
