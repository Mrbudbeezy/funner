#ifndef RENDER_SCENE_SERVER_WINDOW_MANAGER_SHARED_HEADER
#define RENDER_SCENE_SERVER_WINDOW_MANAGER_SHARED_HEADER

#include <stl/auto_ptr.h>

#include <shared/render_manager.h>

namespace render
{

namespace scene
{

namespace server
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Оконный менеджер
///////////////////////////////////////////////////////////////////////////////////////////////////
class WindowManager
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    WindowManager  (const RenderManager&);
    ~WindowManager ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Добавление и удаление окон  
///////////////////////////////////////////////////////////////////////////////////////////////////
    void AttachWindow (size_t id, const char* name, const char* init_string, void* handle, unsigned int width, unsigned int height, const manager::Rect& rect);
    void DetachWindow (size_t id);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Поиск окна по имени
///////////////////////////////////////////////////////////////////////////////////////////////////
    manager::Window& GetWindow (const char* name) const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обновление окон
///////////////////////////////////////////////////////////////////////////////////////////////////
    void SetWindowSize     (size_t id, unsigned int width, unsigned int height);
    void SetWindowViewport (size_t id, const manager::Rect& rect);
    void SetWindowHandle   (size_t id, void* handle);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обновление окна
///////////////////////////////////////////////////////////////////////////////////////////////////
    void RepaintWindow (size_t id);

  private:
    WindowManager (const WindowManager&); //no impl
    WindowManager& operator = (const WindowManager&); //no impl

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

}

}

}

#endif
