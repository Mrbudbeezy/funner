#ifndef RENDER_SCENE_SERVER_PAGE_CURL_SHARED_HEADER
#define RENDER_SCENE_SERVER_PAGE_CURL_SHARED_HEADER

#include <shared/sg/visual_model.h>

namespace render
{

namespace scene
{

namespace server
{

using interchange::PageCurlParams;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Разворот книги
///////////////////////////////////////////////////////////////////////////////////////////////////
class PageCurl: public VisualModel
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / Деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    PageCurl (RenderManager& render_manager);
    ~PageCurl ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Параметры
///////////////////////////////////////////////////////////////////////////////////////////////////          
    void                  SetParams (const PageCurlParams& params, const char* front_left_material,
                                     const char* front_right_material, const char* back_left_material,
                                     const char* back_right_material);
    const PageCurlParams& Params    () const;

  protected:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Отрисовка
///////////////////////////////////////////////////////////////////////////////////////////////////
    void DrawCore (RenderingContext& context, void* user_data);

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

}

}

}

#endif
