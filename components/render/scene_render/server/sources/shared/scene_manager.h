#ifndef RENDER_SCENE_SERVER_SCENE_MANAGER_SHARED_HEADER
#define RENDER_SCENE_SERVER_SCENE_MANAGER_SHARED_HEADER

#include <render/scene/interchange/types.h>

namespace render
{

namespace scene
{

namespace server
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Сцена
///////////////////////////////////////////////////////////////////////////////////////////////////
class Scene
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструкторы / деструктор / присваивание
///////////////////////////////////////////////////////////////////////////////////////////////////
    Scene  ();
    Scene  (const Scene&);
    ~Scene ();

    Scene& operator = (const Scene&);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Имя сцены
///////////////////////////////////////////////////////////////////////////////////////////////////
    void        SetName (const char* name);
    const char* Name    () const;

  private:
    struct Impl;
    Impl* impl;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Менеджер сцен
///////////////////////////////////////////////////////////////////////////////////////////////////
class SceneManager
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    SceneManager  ();
    ~SceneManager ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Добавление и удаление сцен
///////////////////////////////////////////////////////////////////////////////////////////////////
    Scene CreateScene (interchange::object_id_t id);
    void  RemoveScene (interchange::object_id_t id);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Поиск сцены
///////////////////////////////////////////////////////////////////////////////////////////////////
    Scene& GetScene (interchange::object_id_t id) const;

  private:
    SceneManager (const SceneManager&); //no impl
    SceneManager& operator = (const SceneManager&); //no impl

  private:
    struct Impl;
    stl::auto_ptr<Impl> impl;
};

}

}

}

#endif
