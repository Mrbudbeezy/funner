#ifndef RENDER_MANAGER_MATERIAL_HEADER
#define RENDER_MANAGER_MATERIAL_HEADER

#include <render/manager/texture.h>

namespace media
{

namespace rfx
{

//forward declaration
class Material;
class MaterialLibrary;
class EffectLibrary;
class ShaderLibrary;

}

}

namespace render
{

namespace manager
{

//implementation forwards
class MaterialImpl;
class Wrappers;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Материал
///////////////////////////////////////////////////////////////////////////////////////////////////
class Material
{
  friend class Wrappers;
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструкторы / деструкторы / присваивание
///////////////////////////////////////////////////////////////////////////////////////////////////
    Material  (const Material&);
    ~Material ();
    
    Material& operator = (const Material&);
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Имя материала
///////////////////////////////////////////////////////////////////////////////////////////////////
    const char* Name    () const;
    void        SetName (const char* id);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обновление материала
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Update (const media::rfx::Material&);
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Управление кэшированием
///////////////////////////////////////////////////////////////////////////////////////////////////
    void UpdateCache ();
    void ResetCache  ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Swap (Material&);

  private:
    Material (MaterialImpl*);
  
  private:
    MaterialImpl* impl;
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
///////////////////////////////////////////////////////////////////////////////////////////////////
void swap (Material&, Material&);

}

}

#endif
