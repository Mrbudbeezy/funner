#ifndef COMMLIB_PTHREADS_PUBLIC_HEADER
#define COMMLIB_PTHREADS_PUBLIC_HEADER

#include <platform/platform.h>

namespace common
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Система управления потоками
///////////////////////////////////////////////////////////////////////////////////////////////////
class PThreadsSystem: public ICustomThreadSystem
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////  
    PThreadsSystem  ();
    ~PThreadsSystem ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Создание / удаление нити
///////////////////////////////////////////////////////////////////////////////////////////////////
    thread_t CreateThread (IThreadCallback*, ThreadState);
    void     DeleteThread (thread_t);
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Управление состоянием работы нити
///////////////////////////////////////////////////////////////////////////////////////////////////    
    void        SetThreadState (thread_t, ThreadState);
    ThreadState GetThreadState (thread_t);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Ожидание завершения нити
///////////////////////////////////////////////////////////////////////////////////////////////////
    void JoinThread (thread_t);
};

}

#endif
