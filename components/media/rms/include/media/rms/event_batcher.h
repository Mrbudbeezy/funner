#ifndef MEDIA_RMS_EVENT_BATCHER_HEADER
#define MEDIA_RMS_EVENT_BATCHER_HEADER

namespace media
{

namespace rms
{

//forward declaration
class ICustomServer;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Упаковщик событий
///////////////////////////////////////////////////////////////////////////////////////////////////
class EventBatcher
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструкторы / деструктор / присваивание
///////////////////////////////////////////////////////////////////////////////////////////////////
    EventBatcher  ();
    EventBatcher  (const EventBatcher&);
    ~EventBatcher ();

    EventBatcher& operator = (const EventBatcher&);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Операции над ресурсом
///////////////////////////////////////////////////////////////////////////////////////////////////
    void PrefetchResource (const char* resource_name);
    void LoadResource     (const char* resource_name);
    void UnloadResource   (const char* resource_name);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Опустошение
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Flush (ICustomServer&);

  private:
    struct Impl;
    Impl* impl;
};

}

}

#endif
