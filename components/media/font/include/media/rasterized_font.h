#ifndef MEDIALIB_RASTERIZED_FONT_HEADER
#define MEDIALIB_RASTERIZED_FONT_HEADER

#include <cstdlib>

namespace media
{

//forward declarations
class Image;

//////////////////////////////////////////////////////////////////////////////////////////////////
///Информация о растеризованном глифе
//////////////////////////////////////////////////////////////////////////////////////////////////
struct RasterizedGlyphInfo
{
  size_t image_index; //индекс изображения с растеризованным глифом
  size_t x_pos;       //X координата нижнего левого угла глифа
  size_t y_pos;       //Y координата нижнего левого угла глифа
};

//////////////////////////////////////////////////////////////////////////////////////////////////
///Растеризованный шрифт
//////////////////////////////////////////////////////////////////////////////////////////////////
class RasterizedFont
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Конструктор/деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    RasterizedFont  ();
    RasterizedFont  (const RasterizedFont& source);
    ~RasterizedFont ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///Присваивание
///////////////////////////////////////////////////////////////////////////////////////////////////
    RasterizedFont& operator = (const RasterizedFont&);

///////////////////////////////////////////////////////////////////////////////////////////////////
///Ссылка на шрифт
///////////////////////////////////////////////////////////////////////////////////////////////////
    media::Font Font () const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Растеризованные глифы
///////////////////////////////////////////////////////////////////////////////////////////////////
    const RasterizedGlyphInfo* RasterizedGlyphs () const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Количество картинок
///////////////////////////////////////////////////////////////////////////////////////////////////
    size_t ImagesCount () const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Получение имени картинки
///////////////////////////////////////////////////////////////////////////////////////////////////
    const char* ImageName (size_t image_index) const;

///////////////////////////////////////////////////////////////////////////////////////////////////
///Построение картинки
///////////////////////////////////////////////////////////////////////////////////////////////////
    void BuildImage (size_t image_index, media::Image& out_image) const; //???? format

///////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Swap (RasterizedFont&);

  private:
    RasterizedFontImpl* impl;
};

//////////////////////////////////////////////////////////////////////////////////////////////////
///Обмен
//////////////////////////////////////////////////////////////////////////////////////////////////
void swap (RasterizedFont&, RasterizedFont&);

}

#endif
