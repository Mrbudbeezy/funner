#ifndef SCENE_GRAPH_CONTROLLER_BOX2D_PHYSICS_HEADER
#define SCENE_GRAPH_CONTROLLER_BOX2D_PHYSICS_HEADER

#include <xtl/common_exceptions.h>
#include <xtl/function.h>

#include <common/component.h>

#include <sg/controller.h>
#include <sg/node.h>

#include <Box2D.h>

namespace scene_graph
{

namespace box2d
{

///////////////////////////////////////////////////////////////////////////////////////////////////
/// онтроллер физического мира
///////////////////////////////////////////////////////////////////////////////////////////////////
class WorldController: public IController, public xtl::noncopyable
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
/// онструктор / деструктор
///////////////////////////////////////////////////////////////////////////////////////////////////
    WorldController  (Node& root);
    ~WorldController ();

///////////////////////////////////////////////////////////////////////////////////////////////////
///ќбновление мира
///////////////////////////////////////////////////////////////////////////////////////////////////
    void Update (float dt);

  private:
    b2World world;     //физический мир
    Node&   root_node; //корневой узел, сопоставленный физическому миру
};

}

}

#endif
