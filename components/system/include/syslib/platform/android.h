#ifndef SYSLIB_PLATFORM_ANDROID_HEADER
#define SYSLIB_PLATFORM_ANDROID_HEADER

#include <syslib/window.h>

///forward declarations
struct ANativeWindow;
class _jobject;

namespace syslib
{

namespace android
{

///////////////////////////////////////////////////////////////////////////////////////////////////
///Интерфейс слушателя событий приложения
///////////////////////////////////////////////////////////////////////////////////////////////////
class IApplicationListener
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///События
///////////////////////////////////////////////////////////////////////////////////////////////////
    virtual void OnMemoryWarning () {}   //нехватка памяти
    virtual void OnPause         () {}   //приложение приостановлено (перешло в фон)
    virtual void OnResume        () {}   //приложение восстановлено (перешло на передний план)
    virtual void OnStop          () {}   //приложение остановлено

  protected:
    virtual ~IApplicationListener () {}
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Дескриптор нативного окна
///////////////////////////////////////////////////////////////////////////////////////////////////
struct NativeWindow
{
  ANativeWindow* native_window; //указатель на нативное окно
  _jobject*      view;          //указатель на view
};

///////////////////////////////////////////////////////////////////////////////////////////////////
///Менеджер приложения
///////////////////////////////////////////////////////////////////////////////////////////////////
class ApplicationManager
{
  public:
///////////////////////////////////////////////////////////////////////////////////////////////////
///Добавление/удаление подписчиков на события приложения
///////////////////////////////////////////////////////////////////////////////////////////////////
    static void AttachApplicationListener (IApplicationListener* listener);
    static void DetachApplicationListener (IApplicationListener* listener);
};

}

}

#endif
